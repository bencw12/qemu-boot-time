diff --git a/arch/x86/boot/compressed/benchmark.h b/arch/x86/boot/compressed/benchmark.h
new file mode 100644
index 000000000000..b235b97848b9
--- /dev/null
+++ b/arch/x86/boot/compressed/benchmark.h
@@ -0,0 +1,17 @@
+#ifndef BENCHMARK_H
+#define BENCHMARK_H
+
+/* IO ports for different exit points */
+#define LINUX_EXIT_PORT 0xf4
+#define FW_EXIT_PORT    0xf5
+
+/* Exit point values */
+#define FW_START    1
+#define LINUX_START_FWCFG 2
+#define LINUX_START_BOOT  3
+#define LINUX_START_PVHBOOT  4
+#define FW_DO_BOOT 5
+#define LINUX_START_KERNEL 6
+#define LINUX_START_USER 7
+
+#endif
\ No newline at end of file
diff --git a/init/benchmark.h b/init/benchmark.h
new file mode 100644
index 000000000000..b235b97848b9
--- /dev/null
+++ b/init/benchmark.h
@@ -0,0 +1,17 @@
+#ifndef BENCHMARK_H
+#define BENCHMARK_H
+
+/* IO ports for different exit points */
+#define LINUX_EXIT_PORT 0xf4
+#define FW_EXIT_PORT    0xf5
+
+/* Exit point values */
+#define FW_START    1
+#define LINUX_START_FWCFG 2
+#define LINUX_START_BOOT  3
+#define LINUX_START_PVHBOOT  4
+#define FW_DO_BOOT 5
+#define LINUX_START_KERNEL 6
+#define LINUX_START_USER 7
+
+#endif
\ No newline at end of file
diff --git a/arch/x86/boot/compressed/misc.c b/arch/x86/boot/compressed/misc.c
index 267e7f93050e..f9c6d03e5641 100644
--- a/arch/x86/boot/compressed/misc.c
+++ b/arch/x86/boot/compressed/misc.c
@@ -18,6 +18,7 @@
 #include "../string.h"
 #include "../voffset.h"
 #include <asm/bootparam_utils.h>
+#include "benchmark.h"
 
 /*
  * WARNING!!
@@ -437,6 +438,7 @@ asmlinkage __visible void *extract_kernel(void *rmode, memptr heap,
 #endif
 
 	debug_putstr("\nDecompressing Linux... ");
+	outb(LINUX_START_BOOT, LINUX_EXIT_PORT);
 	__decompress(input_data, input_len, NULL, NULL, output, output_len,
 			NULL, error);
 	parse_elf(output);
diff --git a/init/main.c b/init/main.c
index c68d784376ca..9b4b561c6447 100644
--- a/init/main.c
+++ b/init/main.c
@@ -12,6 +12,8 @@
 
 #define DEBUG		/* Enable initcall_debug */
 
+#include "benchmark.h"
+
 #include <linux/types.h>
 #include <linux/extable.h>
 #include <linux/module.h>
@@ -1431,6 +1433,8 @@ static int __ref kernel_init(void *unused)
 
 	rcu_end_inkernel_boot();
 
+	outb(LINUX_START_USER, LINUX_EXIT_PORT);
+
 	do_sysctl_args();
 
 	if (ramdisk_execute_command) {
